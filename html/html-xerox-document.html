<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Details</title>
    <link rel="stylesheet" href="/css-xerox-page1.css">
</head>
<body>
    <div class="container">
        <h2>Document Details</h2>

        <!-- Document Details Section -->
        <fieldset>
            <legend>Document Details</legend>
            <form id="documentForm" method="post" action="/DocumentInfo">
                <div class="form-group">
                    <label for="docTitle">Document Title:</label>
                    <input type="text" id="docTitle" name="docTitle" required>
                </div>
                <div class="form-group">
                    <label for="numPages">Number of Pages:</label>
                    <input type="number" id="numPages" name="numPages" required oninput="calculatePrice()">
                </div>
                <div class="form-group">
                    <label for="numCopies">Number of Copies:</label>
                    <input type="number" id="numCopies" name="numCopies" required oninput="calculatePrice()">
                </div>
                <div class="form-group">
                    <label for="paperSize">Paper Size:</label>
                    <select id="paperSize" name="paperSize" onchange="calculatePrice()">
                        <option value="A4">A4</option>
                        <option value="Legal">Legal</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="printType">Print Type:</label>
                    <select id="printType" name="printType" onchange="calculatePrice()">
                        <option value="bw">Black & White</option>
                        <option value="color">Color</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="bindingOption">Binding Option:</label>
                    <select id="bindingOption" name="bindingOption" onchange="calculatePrice()">
                        <option value="none">None</option>
                        <option value="spiral">Spiral</option>
                        <option value="hardcover">Hardcover</option>
                    </select>
                </div>

                <!-- Upload Document Section -->
                <div class="form-group">
                    <label for="uploadDocument">Upload Document:</label>
                    <input type="file" id="uploadDocument" name="uploadDocument" accept="application/pdf, image/*" required>
                </div>
                <input id="totalamountid" name="totalamount" type="hidden">

                <button type="submit">Next</button>
            </form>
        </fieldset>

        <div id="priceDetails">
            <h3>Total Price: $<span id="totalPrice">0.00</span></h3>
            
        </div>
    </div>

    <script>
      function calculatePrice() { 
        var numPages = parseInt(document.getElementById('numPages').value) || 0;
        var numCopies = parseInt(document.getElementById('numCopies').value) || 0;
        var paperSize = document.getElementById('paperSize').value;
        var printType = document.getElementById('printType').value;
        var bindingOption = document.getElementById('bindingOption').value; 
        var basePricePerPage = 0.10; 
        var extraPriceForColor = 0.05;
        var bindingPrice = 0;
        if (paperSize === "Legal") {
          basePricePerPage += 0.05;
        }
        if (printType === "color") {
          basePricePerPage += extraPriceForColor; 
        }
        if (bindingOption === "spiral") {
          bindingPrice = 1.50;
        } else if (bindingOption === "hardcover") {
          bindingPrice = 3.00;
        }
        var totalPrice = (numPages * numCopies * basePricePerPage) + bindingPrice;
        document.getElementById('totalPrice').innerText = totalPrice.toFixed(2);
        document.getElementById('totalamountid').value=totalPrice.toFixed(2);
        
        return totalPrice; 
      }
      calculatePrice();
    </script>
</body>
</html>
